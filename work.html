<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta id="meta" name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Joyce Rice is a news designer</title>
        <link rel="stylesheet" text="css" href="styles2.css">
        <link href="https://fonts.googleapis.com/css?family=Muli:200,200i,400,400i,600,700" rel="stylesheet">
    </head>

    <body>
      <div class="totalContainer">
        <div class="mainContent">
        <noscript>
            You need to enable JavaScript to run this app.
        </noscript>
        <!--HERE IS THE HEADER-->
        <header>
            <a href="/">
                <h1>joyce rice</h1>
                <h2>news designer</h2>
            </a>
            <nav>
                <ul>
                    <a href="work.html" class="selected2">
                        <li>work</li>
                    </a>
                    <a href="https://shop.teenyrobots.net" style="display: none">
                      <li>shop</li>
                    </a>
                   <a href="about.html">
                        <li>about</li>
                   </a>
                    <a href="https://blog.teenyrobots.net/" style="display: none">
                        <li>blog</li>
                    </a>
                    <a href="contact.html">
                        <li>contact</li>
                    </a>
                </ul>
            </nav>
        </header>
        <!--THAT'S IT FOR THE HEADER-->

        <div class="content" id="allProjects">


            <div id="wrong">
                <img src="assets/error.jpg" alt="a drunk laptop surrounded by empty booze bottles">
                <p>Whoops something's gone wrong! Try refreshing the page.</p>
            </div>

            <div class="projectThumb">
                <a href="journalism.html">
                    <h2>Comics Journalism</h2>
                    <img src="workThumbs/journo.jpg">
                </a>
            </div>

            <!--<div class="projectThumb">-->
                <!--<h2>ONA16</h2>-->
                <!--<h3>collateral</h3>-->
                <!--<a href="project.html">-->
                    <!--<img src="workThumbs/ona.jpg">-->
                <!--</a>-->
            <!--</div>-->
        </div>

      </div>

        <div class="newFooter">
            <p>Thanks for visiting!</p>
            <div>
                <a href="https://www.instagram.com/teenyrobots/" target="_blank"><img src="assets/icons/grams.png" alt="instagram"></a>
                <a href="https://twitter.com/teenyrobots" target="_blank"><img src="assets/icons/twitter.png" alt="twitter"></a>
                <a href="https://github.com/teenyrobots" target="_blank"><img src="assets/icons/github.png" alt="github"></a>
                <a href="mailto:joycer@teenyrobots.net?subject=Let's work together!" target="_blank"><img src="assets/icons/mail.png" alt="mail"></a>
            </div>
        </div>

        <script
                src='https://code.jquery.com/jquery-3.3.1.min.js'
                integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
                crossorigin="anonymous"></script>

        <script>

            function makeCard(project) {
                var title = project.title,
                    type = project.type,
                    thumb = "projects/_thumbs/" + project.slug + ".jpg",
                    projectURL = "/project.html?project=" + project.slug;
                var projectDiv = $("<div class='projectThumb'><a href='" + projectURL + "'><h2>"+ title +"</h2><h3>"+ type +"</h3><img src='"+ thumb +"'></a></div>");
                return projectDiv;
            }


            $(document).ready(function(){
                var errorDiv = true;
                $.getJSON('projects.json', function(data) {
                    data.projects.map(function(project){
                        var projectCard = makeCard(project);
                        $("#allProjects").append(projectCard);
                        errorDiv = false;
                    })
                    if (errorDiv) $('#wrong').show();
                })
            })

        </script>
      </div>
    </body>
</html>
